
<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A2Z Assam Mart | Shopping</title>
    <style>
        body { font-family: sans-serif; background: #f0f2f5; margin: 0; padding-bottom: 80px; }
        .top-bar { background: #232f3e; color: white; padding: 15px; position: sticky; top: 0; display: flex; justify-content: space-between; align-items: center; z-index: 100; }
        .container { padding: 15px; }
        .product-card { background: white; border-radius: 12px; overflow: hidden; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); display: flex; padding: 10px; }
        .product-img { width: 100px; height: 100px; border-radius: 8px; background: #eee; object-fit: cover; }
        .product-info { flex: 1; padding-left: 15px; }
        .price-tag { color: #b12704; font-size: 18px; font-weight: bold; }
        .btn-add { background: #febd69; border: 1px solid #a88734; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-weight: bold; width: 100%; margin-top: 10px; }
        .cart-bar { position: fixed; bottom: 0; left: 0; right: 0; background: #232f3e; color: white; padding: 15px; display: flex; justify-content: space-between; border-radius: 15px 15px 0 0; }
    </style>
</head>
<body>

<div class="top-bar">
    <span>üìç Delivery 1KM</span>
    <span id="header-title">A2Z Market</span>
    <span>üõí (0)</span>
</div>

<div class="container" id="product-list">
    </div>

<div class="cart-bar">
    <div>Total: ‚Çπ<span id="final-bill">0</span></div>
    <button onclick="placeOrder()" style="background:#f0c14b; border:none; padding:5px 15px; border-radius:5px; font-weight:bold;">CHECKOUT</button>
</div>

<script>
    // 1. AAPKA HIDDEN MARGIN (Maan lijiye 5%)
    const HIDDEN_MARGIN = 0.05; 

    // 2. DATA (Yeh data baad mein vendor bharega)
    const products = [
        { id: 1, name: "Fresh Chicken (Kilo)", basePrice: 200, img: "üçó", category: "meat" },
        { id: 2, name: "Local Machhli", basePrice: 350, img: "üêü", category: "meat" },
        { id: 3, name: "Mix Sabzi (Combo)", basePrice: 50, img: "ü•ó", category: "veg" }
    ];

    function loadProducts() {
        const list = document.getElementById('product-list');
        list.innerHTML = "";
        
        products.forEach(p => {
            // MAGIC LOGIC: Base Price + Hidden Margin
            let customerPrice = Math.round(p.basePrice * (1 + HIDDEN_MARGIN));
            
            list.innerHTML += `
                <div class="product-card">
                    <div class="product-img" style="font-size:50px; text-align:center; line-height:100px;">${p.img}</div>
                    <div class="product-info">
                        <h3 style="margin:0 0 5px 0;">${p.name}</h3>
                        <div class="price-tag">‚Çπ${customerPrice}</div>
                        <p style="font-size:11px; color:gray;">Incl. of all taxes & GST</p>
                        <button class="btn-add" onclick="updateBill(${customerPrice})">BAG MEIN DAALEIN</button>
                    </div>
                </div>
            `;
        });
    }

    let totalBill = 0;
    function updateBill(price) {
        totalBill += price;
        document.getElementById('final-bill').innerText = totalBill;
        alert("Saaman Bag mein jodd diya gaya!");
    }

    function placeOrder() {
        if(totalBill === 0) { alert("Pehle saaman chuniye!"); return; }
        // Agli file 'delivery.html' par jayega bill ke saath
        window.location.href = `delivery.html?bill=${totalBill}`;
    }

    window.onload = loadProducts;
</script>

</body>
</html>
